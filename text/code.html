<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Notes on Snap! Sample Code &mdash; Finch Drama Project</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/guide.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2016-05-16',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Finch Drama Project" href="index.html" />
    <link rel="next" title="Standard Snap Blocks Reference" href="snapref.html" />
    <link rel="prev" title="Exercise - Developing the Production Theme" href="ex/theming.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="snapref.html" title="Standard Snap Blocks Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ex/theming.html" title="Exercise - Developing the Production Theme"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Finch Drama Project</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="notes-on-snap-sample-code">
<span id="code-notes"></span><h1>Notes on Snap! Sample Code<a class="headerlink" href="#notes-on-snap-sample-code" title="Permalink to this headline">¶</a></h1>
<p>Following are notes on each sketch used in the workshop.</p>
<div class="section" id="id1">
<h2>Finch-Chrome<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=birdbraintech&amp;ProjectName=Finch-Chrome">Finch-Chrome</a> is the default sketch provided by BirdBrain and loaded by the
Finch Connection App for &#8216;Level 4: Regular Snap!&#8217;.  It includes all the Finch
blocks which communicate with the robot, and so is the ancestor of all the other
Finch sketches.</p>
<p>Note that the visible program appears on the Scripts tab for the default Sprite,
and no code appears on the tab for the Stage.  This is recommended so that your
scripts can show debugging information on the canvas using &#8216;say&#8217; and &#8216;think&#8217;,
which can sometimes be helpful.</p>
</div>
<div class="section" id="id2">
<h2>Finch-Animation-Deck<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=prldrama&amp;ProjectName=Finch-Animation-Deck">Finch-Animation-Deck</a> provides an interface for driving the robot and
recording complex actions into primitives.  It is built using
Finch-Drama-Library.  It can be used as a starting point for creating scripted
performances composed from motion primitives.</p>
</div>
<div class="section" id="id3">
<h2>Finch-Box-Navigation<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=prldrama&amp;ProjectName=Finch-Box-Navigation">Finch-Box-Navigation</a> is the code used in the <a class="reference internal" href="videos.html#box-navigation-video"><span class="std std-ref">Finch Box Navigation Demo</span></a>
video.  It uses the plain Finch-Chrome library to implement two different
strategies for navigating around a Finch Box placed on the floor.  It is helpful
to weight the box with something dense and heavy, as the Finch does make
contact.</p>
<p>The first strategy uses the proximity sensors to detect a face, than performs an
open-loop sequence of driving movements to drive around a corner and attempt to
find the next face.</p>
<p>The second strategy adds deliberate collision to reduce positioning error, and works better.</p>
</div>
<div class="section" id="id4">
<h2>Finch-Coordination-Intro<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=prldrama&amp;ProjectName=Finch-Coordination-Intro">Finch-Coordination-Intro</a> is used in <a class="reference internal" href="ex/robot-sync.html#exercise-robot-synchronization"><span class="std std-ref">Exercise - Robot Synchronization</span></a>.
It uses the plain Finch-Chrome library to implement multi-robot coordination
using communication over a network server.</p>
</div>
<div class="section" id="id5">
<h2>Finch-Drama-Library<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=prldrama&amp;ProjectName=Finch-Drama-Library">Finch-Drama-Library</a> is a reference library to serve as the foundation for
more advanced robot scripting.  It includes a number of new blocks to extend the
basic Finch-Chrome library.  The sketch includes a number of demonstration
scripts on the Stage Scripts tab to test library features.</p>
<p>The library includes the following:</p>
<ol class="arabic simple">
<li>A precision teleoperation interface with action recorder.  Keyboard commands
can be used to puppet the robot while simultaneous building a list data
structure which can be used for precise playback.</li>
<li>Action player to execute action compositions represented as list data.
Individual actions can be scripted into sequences since actions can invoke
other actions (non-recursively).</li>
<li>Operators to convert action recordings to and from a readable text form.
This allows extracting action sequences out of Snap for sharing or direct
editing using a text editor.</li>
<li>Object-oriented communications server interface.  The interface maintains
estimates of client-server clock skew for managing precision synchronization
of multiple robots.</li>
</ol>
</div>
<div class="section" id="id6">
<h2>Finch-Precise-Coordination<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=prldrama&amp;ProjectName=Finch-Precise-Coordination">Finch-Precise-Coordination</a> is a followup to <a class="reference external" href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=prldrama&amp;ProjectName=Finch-Coordination-Intro">Finch-Coordination-Intro</a> which
adds an estimation of client-server clock skew, built using the plain
Finch-Chrome library.  It is largely superseded by <a class="reference external" href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=prldrama&amp;ProjectName=Finch-Drama-Library">Finch-Drama-Library</a> except
as a simpler example for understanding how time works across the network.</p>
</div>
<div class="section" id="id7">
<h2>Finch-Sensorless-Parking<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=prldrama&amp;ProjectName=Finch-Sensorless-Parking">Finch-Sensorless-Parking</a> is used in <a class="reference internal" href="ex/sensorless-parking.html#exercise-sensorless-parking"><span class="std std-ref">Exercise - Sensorless Parking</span></a>.  It
uses the plain Finch-Chrome library to implement simple open-loop strategies for
using collision with an obstacle for localization.  It isn&#8217;t autonomous; it
requires user input to initiate the different phases of the movement.</p>
</div>
<div class="section" id="id8">
<h2>Finch-Sequencing<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=prldrama&amp;ProjectName=Finch-Sequencing">Finch-Sequencing</a> needs to be rewritten to use <a class="reference external" href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=prldrama&amp;ProjectName=Finch-Drama-Library">Finch-Drama-Library</a>, it is
really a precursor to the library and not as capable.  It implements an action
recording and playback system to demonstrate list data structures.  The data is
stored on a per-Sprite basis, which isn&#8217;t the most obvious to use.</p>
</div>
<div class="section" id="id9">
<h2>Finch-State-Machine<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=prldrama&amp;ProjectName=Finch-State-Machine">Finch-State-Machine</a> is used in <a class="reference internal" href="ex/state-machine.html#exercise-state-machine"><span class="std std-ref">Exercise - State Transition Diagrams</span></a>.  It implements
a single-loop polled state machine coding structure which can be used to
implement arbitrary state transition graphs.</p>
</div>
<div class="section" id="id10">
<h2>Snap-Value-Quirks<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=prldrama&amp;ProjectName=Snap-Value-Quirks">Snap-Value-Quirks</a> is a technical exploration of some quirks and corner cases
of the Snap! language.  The actual language is partially defined in the <a class="reference external" href="http://snap.berkeley.edu/SnapManual.pdf">Snap
Manual</a> and the help available within the interface, but many conditions are
not well-specified.  This sketch uses assertion tests to document a number of
specific operator properties.</p>
<p>Some of the implicit properties complicate writing clean code for string
and list processing.  For example:</p>
<ol class="arabic simple">
<li>An empty input field has zero length, but is identified as a number, not a
string.</li>
<li>A input field 0 is equal to either a computed number zero or a computed
character &#8216;0&#8217;.  I.e., input fields have ambiguous type as evaluated by the
equality operator.</li>
<li>A single &#8216;space&#8217; character identifies a number, not a string.
Furthermore,the equality operator does not treat this value as equal to zero,
but the multiplication operator does.</li>
<li>Splitting an empty string on whitespace yields a list with one element
containing a zero-length value.</li>
</ol>
</div>
<div class="section" id="id11">
<h2>Sprite-Communication-Intro<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=prldrama&amp;ProjectName=Sprite-Communication-Intro">Sprite-Communication-Intro</a> is used in <a class="reference internal" href="ex/network-comm.html#exercise-network-communication"><span class="std std-ref">Exercise - Network Communication</span></a>.
It doesn&#8217;t use the robots; it demonstrates the use of the network communications
server to coordinate graphical sprites across different computers.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Notes on Snap! Sample Code</a><ul>
<li><a class="reference internal" href="#id1">Finch-Chrome</a></li>
<li><a class="reference internal" href="#id2">Finch-Animation-Deck</a></li>
<li><a class="reference internal" href="#id3">Finch-Box-Navigation</a></li>
<li><a class="reference internal" href="#id4">Finch-Coordination-Intro</a></li>
<li><a class="reference internal" href="#id5">Finch-Drama-Library</a></li>
<li><a class="reference internal" href="#id6">Finch-Precise-Coordination</a></li>
<li><a class="reference internal" href="#id7">Finch-Sensorless-Parking</a></li>
<li><a class="reference internal" href="#id8">Finch-Sequencing</a></li>
<li><a class="reference internal" href="#id9">Finch-State-Machine</a></li>
<li><a class="reference internal" href="#id10">Snap-Value-Quirks</a></li>
<li><a class="reference internal" href="#id11">Sprite-Communication-Intro</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ex/theming.html"
                        title="previous chapter">Exercise - Developing the Production Theme</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="snapref.html"
                        title="next chapter">Standard Snap Blocks Reference</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="snapref.html" title="Standard Snap Blocks Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="ex/theming.html" title="Exercise - Developing the Production Theme"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Finch Drama Project</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Garth Zeglin.
      Last updated on 2016-05-16.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.
    </div>
  </body>
</html>